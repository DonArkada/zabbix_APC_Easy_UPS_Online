<?xml version="1.0" encoding="UTF-8"?>
<zabbix_export>
    <version>6.4</version>
    <template_groups>
        <template_group>
            <name>Templates/Power</name>
        </template_group>
    </template_groups>
    <templates>
        <template>
            <template>APC Easy UPS Online with AP9601 by SNMP</template>
            <name>APC Easy UPS Online with AP9601 by SNMP</name>
            <description>Template Power APC UPS</description>
            <groups>
                <group>
                    <name>Templates/Power</name>
                </group>
            </groups>
            <items>
                <item>
                    <name>APC UPS: Battery capacity</name>
                    <type>SNMP_AGENT</type>
                    <snmp_oid>1.3.6.1.4.1.21111.1.6.3.4.0</snmp_oid>
                    <key>battery.capacity[upsHighPrecBatteryCapacity]</key>
                    <history>30d</history>
                    <value_type>FLOAT</value_type>
                    <units>%</units>
                    <description>The remaining battery capacity expressed as
 percentage of full capacity.</description>
                    <preprocessing>
                        <step>
                            <type>MULTIPLIER</type>
                            <parameters>
                                <parameter>0.1</parameter>
                            </parameters>
                        </step>
                        <step>
                            <type>DISCARD_UNCHANGED_HEARTBEAT</type>
                            <parameters>
                                <parameter>1h</parameter>
                            </parameters>
                        </step>
                    </preprocessing>
                    <tags>
                        <tag>
                            <tag>component</tag>
                            <value>power</value>
                        </tag>
                    </tags>
                </item>
                <item>
                    <name>APC UPS: Battery runtime remaining</name>
                    <type>SNMP_AGENT</type>
                    <snmp_oid>1.3.6.1.4.1.21111.1.6.3.3.0</snmp_oid>
                    <key>battery.runtime_remaining[upsAdvBatteryRunTimeRemaining]</key>
                    <history>14d</history>
                    <trends>0</trends>
                    <value_type>FLOAT</value_type>
                    <units>m</units>
                    <description>The UPS battery run time remaining before battery
 exhaustion.</description>
                    <preprocessing>
                        <step>
                            <type>DISCARD_UNCHANGED_HEARTBEAT</type>
                            <parameters>
                                <parameter>1h</parameter>
                            </parameters>
                        </step>
                    </preprocessing>
                    <tags>
                        <tag>
                            <tag>component</tag>
                            <value>power</value>
                        </tag>
                    </tags>
                </item>
                <item>
                    <name>APC UPS: Battery temperature</name>
                    <type>SNMP_AGENT</type>
                    <snmp_oid>1.3.6.1.4.1.21111.1.6.3.7.0</snmp_oid>
                    <key>battery.temperature[upsHighPrecBatteryTemperature]</key>
                    <history>30d</history>
                    <value_type>FLOAT</value_type>
                    <units>â„ƒ</units>
                    <description>The current internal UPS temperature in Celsius.
Temperatures below zero read as 0.</description>
                    <preprocessing>
                        <step>
                            <type>MULTIPLIER</type>
                            <parameters>
                                <parameter>0.1</parameter>
                            </parameters>
                        </step>
                        <step>
                            <type>DISCARD_UNCHANGED_HEARTBEAT</type>
                            <parameters>
                                <parameter>1h</parameter>
                            </parameters>
                        </step>
                    </preprocessing>
                    <tags>
                        <tag>
                            <tag>component</tag>
                            <value>temperature</value>
                        </tag>
                    </tags>
                </item>
                <item>
                    <name>APC UPS: Battery current</name>
                    <type>SNMP_AGENT</type>
                    <snmp_oid>1.3.6.1.4.1.21111.1.6.3.6.0</snmp_oid>
                    <key>battery.voltage[upsHighPrecBatteryActualCurrent]</key>
                    <history>30d</history>
                    <value_type>FLOAT</value_type>
                    <units>A</units>
                    <description>The actual battery bus current.</description>
                    <preprocessing>
                        <step>
                            <type>MULTIPLIER</type>
                            <parameters>
                                <parameter>0.1</parameter>
                            </parameters>
                        </step>
                        <step>
                            <type>DISCARD_UNCHANGED_HEARTBEAT</type>
                            <parameters>
                                <parameter>1h</parameter>
                            </parameters>
                        </step>
                    </preprocessing>
                    <tags>
                        <tag>
                            <tag>component</tag>
                            <value>power</value>
                        </tag>
                    </tags>
                </item>
                <item>
                    <name>APC UPS: Battery voltage</name>
                    <type>SNMP_AGENT</type>
                    <snmp_oid>1.3.6.1.4.1.21111.1.6.3.5.0</snmp_oid>
                    <key>battery.voltage[upsHighPrecBatteryActualVoltage]</key>
                    <history>30d</history>
                    <value_type>FLOAT</value_type>
                    <units>V</units>
                    <description>The actual battery bus voltage in Volts.</description>
                    <preprocessing>
                        <step>
                            <type>MULTIPLIER</type>
                            <parameters>
                                <parameter>0.1</parameter>
                            </parameters>
                        </step>
                        <step>
                            <type>DISCARD_UNCHANGED_HEARTBEAT</type>
                            <parameters>
                                <parameter>1h</parameter>
                            </parameters>
                        </step>
                    </preprocessing>
                    <tags>
                        <tag>
                            <tag>component</tag>
                            <value>power</value>
                        </tag>
                    </tags>
                </item>
                <item>
                    <name>APC UPS: Input frequency</name>
                    <type>SNMP_AGENT</type>
                    <snmp_oid>1.3.6.1.4.1.21111.1.6.4.5.1.2.1</snmp_oid>
                    <key>input.frequency[upsHighPrecInputFrequency]</key>
                    <history>30d</history>
                    <value_type>FLOAT</value_type>
                    <units>Hz</units>
                    <description>The current input frequency to the UPS system in Hz.</description>
                    <preprocessing>
                        <step>
                            <type>MULTIPLIER</type>
                            <parameters>
                                <parameter>0.1</parameter>
                            </parameters>
                        </step>
                        <step>
                            <type>DISCARD_UNCHANGED_HEARTBEAT</type>
                            <parameters>
                                <parameter>1h</parameter>
                            </parameters>
                        </step>
                    </preprocessing>
                    <tags>
                        <tag>
                            <tag>component</tag>
                            <value>power</value>
                        </tag>
                    </tags>
                </item>
                <item>
                    <name>APC UPS: Input voltage</name>
                    <type>SNMP_AGENT</type>
                    <snmp_oid>1.3.6.1.4.1.21111.1.6.4.5.1.3.1</snmp_oid>
                    <key>input.voltage[upsHighPrecInputLineVoltage]</key>
                    <history>30d</history>
                    <value_type>FLOAT</value_type>
                    <units>V</units>
                    <description>The current utility line voltage in VAC.</description>
                    <preprocessing>
                        <step>
                            <type>MULTIPLIER</type>
                            <parameters>
                                <parameter>0.1</parameter>
                            </parameters>
                        </step>
                        <step>
                            <type>DISCARD_UNCHANGED_HEARTBEAT</type>
                            <parameters>
                                <parameter>1h</parameter>
                            </parameters>
                        </step>
                    </preprocessing>
                    <tags>
                        <tag>
                            <tag>component</tag>
                            <value>power</value>
                        </tag>
                    </tags>
                </item>
                <item>
                    <name>APC UPS: Output current</name>
                    <type>SNMP_AGENT</type>
                    <snmp_oid>1.3.6.1.4.1.21111.1.6.5.7.1.3.1</snmp_oid>
                    <key>output.current[upsHighPrecOutputCurrent]</key>
                    <history>30d</history>
                    <value_type>FLOAT</value_type>
                    <units>A</units>
                    <description>The current in amperes drawn by the load on the UPS.</description>
                    <preprocessing>
                        <step>
                            <type>MULTIPLIER</type>
                            <parameters>
                                <parameter>0.1</parameter>
                            </parameters>
                        </step>
                        <step>
                            <type>DISCARD_UNCHANGED_HEARTBEAT</type>
                            <parameters>
                                <parameter>1h</parameter>
                            </parameters>
                        </step>
                    </preprocessing>
                    <tags>
                        <tag>
                            <tag>component</tag>
                            <value>power</value>
                        </tag>
                    </tags>
                </item>
                <item>
                    <name>APC UPS: Output load VA %</name>
                    <type>SNMP_AGENT</type>
                    <snmp_oid>1.3.6.1.4.1.21111.1.6.5.3.0</snmp_oid>
                    <key>output.current[upsHighPrecOutputLoadPercVA]</key>
                    <history>30d</history>
                    <value_type>FLOAT</value_type>
                    <units>%</units>
                    <description>The percentage of the UPS apparent power presently being used</description>
                    <preprocessing>
                        <step>
                            <type>MULTIPLIER</type>
                            <parameters>
                                <parameter>0.1</parameter>
                            </parameters>
                        </step>
                        <step>
                            <type>DISCARD_UNCHANGED_HEARTBEAT</type>
                            <parameters>
                                <parameter>1h</parameter>
                            </parameters>
                        </step>
                    </preprocessing>
                    <tags>
                        <tag>
                            <tag>component</tag>
                            <value>power</value>
                        </tag>
                    </tags>
                </item>
                <item>
                    <name>APC UPS: Output load Watt %</name>
                    <type>SNMP_AGENT</type>
                    <snmp_oid>1.3.6.1.4.1.21111.1.6.5.7.1.7.1</snmp_oid>
                    <key>output.current[upsHighPrecOutputLoadPercW]</key>
                    <history>30d</history>
                    <value_type>FLOAT</value_type>
                    <units>%</units>
                    <description>The percentage of the UPS power capacity presently being used on this output line</description>
                    <preprocessing>
                        <step>
                            <type>MULTIPLIER</type>
                            <parameters>
                                <parameter>0.1</parameter>
                            </parameters>
                        </step>
                        <step>
                            <type>DISCARD_UNCHANGED_HEARTBEAT</type>
                            <parameters>
                                <parameter>1h</parameter>
                            </parameters>
                        </step>
                    </preprocessing>
                    <tags>
                        <tag>
                            <tag>component</tag>
                            <value>power</value>
                        </tag>
                    </tags>
                </item>
                <item>
                    <name>APC UPS: Output load VA</name>
                    <type>CALCULATED</type>
                    <key>output.current[upsHighPrecOutputLoadVA]</key>
                    <history>30d</history>
                    <value_type>FLOAT</value_type>
                    <units>VA</units>
                    <params>last(//output.current[upsMaximumLoadVA])*
last(//output.current[upsHighPrecOutputLoadPercVA])/
100</params>
                    <description>The apparent power presently being used</description>
                    <preprocessing>
                        <step>
                            <type>DISCARD_UNCHANGED_HEARTBEAT</type>
                            <parameters>
                                <parameter>1h</parameter>
                            </parameters>
                        </step>
                    </preprocessing>
                    <tags>
                        <tag>
                            <tag>component</tag>
                            <value>power</value>
                        </tag>
                    </tags>
                </item>
                <item>
                    <name>APC UPS: Output load W</name>
                    <type>CALCULATED</type>
                    <key>output.current[upsHighPrecOutputLoadW]</key>
                    <history>30d</history>
                    <value_type>FLOAT</value_type>
                    <units>W</units>
                    <params>last(//output.current[upsMaximumLoadVA])*
{$UPS.OUTPUT.RATING.POWER_W_VA_RATIO}*
last(//output.current[upsHighPrecOutputLoadPercW])/
100</params>
                    <description>The real power presently being used</description>
                    <preprocessing>
                        <step>
                            <type>DISCARD_UNCHANGED_HEARTBEAT</type>
                            <parameters>
                                <parameter>1h</parameter>
                            </parameters>
                        </step>
                    </preprocessing>
                    <tags>
                        <tag>
                            <tag>component</tag>
                            <value>power</value>
                        </tag>
                    </tags>
                </item>
                <item>
                    <name>APC UPS: Maximum apparent power VA</name>
                    <type>SNMP_AGENT</type>
                    <snmp_oid>1.3.6.1.4.1.21111.1.6.2.5.0</snmp_oid>
                    <key>output.current[upsMaximumLoadVA]</key>
                    <delay>12h</delay>
                    <history>1d</history>
                    <trends>0</trends>
                    <units>VA</units>
                    <tags>
                        <tag>
                            <tag>component</tag>
                            <value>power</value>
                        </tag>
                    </tags>
                </item>
                <item>
                    <name>APC UPS: Output frequency</name>
                    <type>SNMP_AGENT</type>
                    <snmp_oid>1.3.6.1.4.1.21111.1.6.5.2.0</snmp_oid>
                    <key>output.frequency[upsHighPrecOutputFrequency]</key>
                    <history>30d</history>
                    <value_type>FLOAT</value_type>
                    <units>Hz</units>
                    <description>The current output frequency of the UPS system in Hz.</description>
                    <preprocessing>
                        <step>
                            <type>MULTIPLIER</type>
                            <parameters>
                                <parameter>0.01</parameter>
                            </parameters>
                        </step>
                        <step>
                            <type>DISCARD_UNCHANGED_HEARTBEAT</type>
                            <parameters>
                                <parameter>1h</parameter>
                            </parameters>
                        </step>
                    </preprocessing>
                    <tags>
                        <tag>
                            <tag>component</tag>
                            <value>power</value>
                        </tag>
                    </tags>
                </item>
                <item>
                    <name>APC UPS: Output status</name>
                    <type>SNMP_AGENT</type>
                    <snmp_oid>1.3.6.1.4.1.21111.1.6.5.1.0</snmp_oid>
                    <key>output.status[upsBasicOutputStatus]</key>
                    <delay>15s</delay>
                    <history>30d</history>
                    <description>The current utility line voltage in VAC.</description>
                    <valuemap>
                        <name>UpsOutputStatus</name>
                    </valuemap>
                    <preprocessing>
                        <step>
                            <type>DISCARD_UNCHANGED_HEARTBEAT</type>
                            <parameters>
                                <parameter>5m</parameter>
                            </parameters>
                        </step>
                    </preprocessing>
                    <tags>
                        <tag>
                            <tag>component</tag>
                            <value>health</value>
                        </tag>
                        <tag>
                            <tag>component</tag>
                            <value>power</value>
                        </tag>
                    </tags>
                </item>
                <item>
                    <name>APC UPS: Output voltage</name>
                    <type>SNMP_AGENT</type>
                    <snmp_oid>1.3.6.1.4.1.21111.1.6.5.7.1.2.1</snmp_oid>
                    <key>output.voltage[upsHighPrecOutputVoltage]</key>
                    <history>30d</history>
                    <value_type>FLOAT</value_type>
                    <units>V</units>
                    <description>The output voltage of the UPS system in VAC.</description>
                    <preprocessing>
                        <step>
                            <type>MULTIPLIER</type>
                            <parameters>
                                <parameter>0.1</parameter>
                            </parameters>
                        </step>
                        <step>
                            <type>DISCARD_UNCHANGED_HEARTBEAT</type>
                            <parameters>
                                <parameter>1h</parameter>
                            </parameters>
                        </step>
                    </preprocessing>
                    <tags>
                        <tag>
                            <tag>component</tag>
                            <value>power</value>
                        </tag>
                    </tags>
                </item>
            </items>
            <tags>
                <tag>
                    <tag>class</tag>
                    <value>power</value>
                </tag>
                <tag>
                    <tag>target</tag>
                    <value>apc</value>
                </tag>
            </tags>
            <macros>
                <macro>
                    <macro>{$BATTERY.CAPACITY.MIN.WARN}</macro>
                    <value>30</value>
                    <description>Minimum battery capacity percentage for trigger expression.</description>
                </macro>
                <macro>
                    <macro>{$BATTERY.TEMP.MAX.WARN}</macro>
                    <value>40</value>
                    <description>Maximum battery temperature for trigger expression.</description>
                </macro>
                <macro>
                    <macro>{$UPS.INPUT_FREQ.MAX.WARN}</macro>
                    <value>50.3</value>
                    <description>Maximum input frequency for trigger expression.</description>
                </macro>
                <macro>
                    <macro>{$UPS.INPUT_FREQ.MIN.WARN}</macro>
                    <value>49.7</value>
                    <description>Minimum input frequency for trigger expression.</description>
                </macro>
                <macro>
                    <macro>{$UPS.INPUT_VOLT.MAX.WARN}</macro>
                    <value>253</value>
                    <description>Maximum input voltage for trigger expression.</description>
                </macro>
                <macro>
                    <macro>{$UPS.INPUT_VOLT.MIN.WARN}</macro>
                    <value>207</value>
                    <description>Minimum input voltage for trigger expression.</description>
                </macro>
                <macro>
                    <macro>{$UPS.OUTPUT.MAX.WARN}</macro>
                    <value>80</value>
                    <description>Maximum output load in % for trigger expression.</description>
                </macro>
                <macro>
                    <macro>{$UPS.OUTPUT.RATING.APPARENT}</macro>
                    <value>2000</value>
                    <description>Maximum apparent power rating of UPS</description>
                </macro>
                <macro>
                    <macro>{$UPS.OUTPUT.RATING.POWER_W_VA_RATIO}</macro>
                    <value>0.8</value>
                    <description>UPS maximum Watt to VA output power ratio</description>
                </macro>
            </macros>
            <valuemaps>
                <valuemap>
                    <name>UpsOutputStatus</name>
                    <mappings>
                        <mapping>
                            <value>1</value>
                            <newvalue>Other</newvalue>
                        </mapping>
                        <mapping>
                            <value>2</value>
                            <newvalue>None</newvalue>
                        </mapping>
                        <mapping>
                            <value>3</value>
                            <newvalue>Normal</newvalue>
                        </mapping>
                        <mapping>
                            <value>4</value>
                            <newvalue>Bypass</newvalue>
                        </mapping>
                        <mapping>
                            <value>5</value>
                            <newvalue>Battery</newvalue>
                        </mapping>
                        <mapping>
                            <value>6</value>
                            <newvalue>Booster</newvalue>
                        </mapping>
                        <mapping>
                            <value>7</value>
                            <newvalue>Reducer</newvalue>
                        </mapping>
                        <mapping>
                            <value>8</value>
                            <newvalue>Battery Test</newvalue>
                        </mapping>
                        <mapping>
                            <value>9</value>
                            <newvalue>Fault</newvalue>
                        </mapping>
                        <mapping>
                            <value>10</value>
                            <newvalue>Eco Mode</newvalue>
                        </mapping>
                        <mapping>
                            <value>11</value>
                            <newvalue>Converter Mode</newvalue>
                        </mapping>
                    </mappings>
                </valuemap>
            </valuemaps>
        </template>
    </templates>
</zabbix_export>
